
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="images/SK_logo.svg">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Seeed - My Docs</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.472b142f.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.08040f6c.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-orange">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#my-experience-with-seeed-studio" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="My Docs" class="md-header__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  <img src="images/SK_logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            My Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Seeed
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
            </label>
          
        
          
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/svavarkonn/MkDocs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Github Repository
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="index.html" class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="setup.html" class="md-tabs__link">
      Setup
    </a>
  </li>

      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="seeed.html" class="md-tabs__link md-tabs__link--active">
      Seeed
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="code.html" class="md-tabs__link">
      Code tests
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="robot_spiral_1.html" class="md-tabs__link">
      Robot notes
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="My Docs" class="md-nav__button md-logo" aria-label="My Docs" data-md-component="logo">
      
  <img src="images/SK_logo.svg" alt="logo">

    </a>
    My Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/svavarkonn/MkDocs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Github Repository
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="setup.html" class="md-nav__link">
        Setup
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Seeed
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="seeed.html" class="md-nav__link md-nav__link--active">
        Seeed
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fab-academy" class="md-nav__link">
    Fab Academy
  </a>
  
    <nav class="md-nav" aria-label="Fab Academy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-bit-of-history" class="md-nav__link">
    A bit of history
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outline-of-the-idea" class="md-nav__link">
    Outline of the idea
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-present-baksi-the-robot" class="md-nav__link">
    I present Baksi the robot!
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#my-first-circuit" class="md-nav__link">
    My first circuit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ir-sensor-board" class="md-nav__link">
    IR sensor board
  </a>
  
    <nav class="md-nav" aria-label="IR sensor board">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#measuring-the-analog-signal" class="md-nav__link">
    Measuring the analog signal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-files" class="md-nav__link">
    Design files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visualizing-the-light-readings" class="md-nav__link">
    Visualizing the light readings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-files_1" class="md-nav__link">
    Design files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-tea-machine" class="md-nav__link">
    The tea machine
  </a>
  
    <nav class="md-nav" aria-label="The tea machine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine-controller-spiral-1" class="md-nav__link">
    Machine controller spiral 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine-controller-spiral-2" class="md-nav__link">
    Machine controller spiral 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine-controller-spiral-3-not-my-work" class="md-nav__link">
    Machine controller spiral 3 (not my work)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#our-instructors" class="md-nav__link">
    Our instructors
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#my-final-project" class="md-nav__link">
    My final project
  </a>
  
    <nav class="md-nav" aria-label="My final project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#final-project-spiral-1" class="md-nav__link">
    Final project spiral 1
  </a>
  
    <nav class="md-nav" aria-label="Final project spiral 1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#design-file" class="md-nav__link">
    Design file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spiral-1-3d-design" class="md-nav__link">
    Spiral 1 3D design
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#robot-base" class="md-nav__link">
    Robot base
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spiral-1-assembly" class="md-nav__link">
    Spiral 1 assembly
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-file_1" class="md-nav__link">
    Design file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#my-pcb-design" class="md-nav__link">
    My PCB design
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-files_2" class="md-nav__link">
    Design files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#putting-dupont-connectors-on-the-motor" class="md-nav__link">
    Putting Dupont connectors on the motor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pcb-production" class="md-nav__link">
    PCB production
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scaling-problem" class="md-nav__link">
    Scaling problem
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oh-no-torn-motor-pins" class="md-nav__link">
    Oh no, torn motor pins!
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-fix" class="md-nav__link">
    The fix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stepper-control-with-my-board" class="md-nav__link">
    Stepper control with my board
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-files_3" class="md-nav__link">
    Design files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#led-pwm-test" class="md-nav__link">
    LED PWM test
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-file_2" class="md-nav__link">
    Design file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bldc-control-with-my-board" class="md-nav__link">
    BLDC control with my board
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-files_4" class="md-nav__link">
    Design files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debugging" class="md-nav__link">
    Debugging
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#final-project-spiral-2" class="md-nav__link">
    Final project spiral 2
  </a>
  
    <nav class="md-nav" aria-label="Final project spiral 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-shape-study" class="md-nav__link">
    Basic shape study
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-files_5" class="md-nav__link">
    Design files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#electronics-design" class="md-nav__link">
    Electronics design
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pcb-production_1" class="md-nav__link">
    PCB production
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-files_6" class="md-nav__link">
    Design files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sensing-board" class="md-nav__link">
    Sensing board
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#final-project-presentation" class="md-nav__link">
    Final project presentation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baksi-software" class="md-nav__link">
    Baksi software
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="code.html" class="md-nav__link">
        Code tests
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="robot_spiral_1.html" class="md-nav__link">
        Robot notes
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fab-academy" class="md-nav__link">
    Fab Academy
  </a>
  
    <nav class="md-nav" aria-label="Fab Academy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-bit-of-history" class="md-nav__link">
    A bit of history
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outline-of-the-idea" class="md-nav__link">
    Outline of the idea
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-present-baksi-the-robot" class="md-nav__link">
    I present Baksi the robot!
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#my-first-circuit" class="md-nav__link">
    My first circuit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ir-sensor-board" class="md-nav__link">
    IR sensor board
  </a>
  
    <nav class="md-nav" aria-label="IR sensor board">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#measuring-the-analog-signal" class="md-nav__link">
    Measuring the analog signal
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-files" class="md-nav__link">
    Design files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visualizing-the-light-readings" class="md-nav__link">
    Visualizing the light readings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-files_1" class="md-nav__link">
    Design files
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-tea-machine" class="md-nav__link">
    The tea machine
  </a>
  
    <nav class="md-nav" aria-label="The tea machine">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#machine-controller-spiral-1" class="md-nav__link">
    Machine controller spiral 1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine-controller-spiral-2" class="md-nav__link">
    Machine controller spiral 2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#machine-controller-spiral-3-not-my-work" class="md-nav__link">
    Machine controller spiral 3 (not my work)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#our-instructors" class="md-nav__link">
    Our instructors
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#my-final-project" class="md-nav__link">
    My final project
  </a>
  
    <nav class="md-nav" aria-label="My final project">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#final-project-spiral-1" class="md-nav__link">
    Final project spiral 1
  </a>
  
    <nav class="md-nav" aria-label="Final project spiral 1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#design-file" class="md-nav__link">
    Design file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spiral-1-3d-design" class="md-nav__link">
    Spiral 1 3D design
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#robot-base" class="md-nav__link">
    Robot base
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spiral-1-assembly" class="md-nav__link">
    Spiral 1 assembly
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-file_1" class="md-nav__link">
    Design file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#my-pcb-design" class="md-nav__link">
    My PCB design
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-files_2" class="md-nav__link">
    Design files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#putting-dupont-connectors-on-the-motor" class="md-nav__link">
    Putting Dupont connectors on the motor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pcb-production" class="md-nav__link">
    PCB production
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#scaling-problem" class="md-nav__link">
    Scaling problem
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oh-no-torn-motor-pins" class="md-nav__link">
    Oh no, torn motor pins!
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-fix" class="md-nav__link">
    The fix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stepper-control-with-my-board" class="md-nav__link">
    Stepper control with my board
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-files_3" class="md-nav__link">
    Design files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#led-pwm-test" class="md-nav__link">
    LED PWM test
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-file_2" class="md-nav__link">
    Design file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bldc-control-with-my-board" class="md-nav__link">
    BLDC control with my board
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-files_4" class="md-nav__link">
    Design files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#debugging" class="md-nav__link">
    Debugging
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#final-project-spiral-2" class="md-nav__link">
    Final project spiral 2
  </a>
  
    <nav class="md-nav" aria-label="Final project spiral 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-shape-study" class="md-nav__link">
    Basic shape study
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-files_5" class="md-nav__link">
    Design files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#electronics-design" class="md-nav__link">
    Electronics design
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pcb-production_1" class="md-nav__link">
    PCB production
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#design-files_6" class="md-nav__link">
    Design files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sensing-board" class="md-nav__link">
    Sensing board
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#final-project-presentation" class="md-nav__link">
    Final project presentation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baksi-software" class="md-nav__link">
    Baksi software
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  <a href="https://github.com/svavarkonn/MkDocs/edit/master/docs/seeed.md" title="Edit this page" class="md-content__button md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>


<h1 id="my-experience-with-seeed-studio">My experience with Seeed Studio</h1>
<p><img alt="Svavar Konráðsson" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/images/svavar_electronics.jpg" style="width:100%" /><em>My name is Svavar Konráðsson and I work at <a href="https://www.google.com/maps/place/Fab+Lab+%C3%8Dsafj%C3%B6r%C3%B0ur,+innovation+center/@65.046614,-21.7431544,620021m/data=!3m1!1e3!4m6!3m5!1s0x4f2b1fcc2e461a1d:0xc9bdd97229cc149e!8m2!3d66.0738941!4d-23.1316709!16s%2Fg%2F11b6t85p8k?entry=ttu">Fab Lab Ísafjörður</a>, Iceland.</em></p>
<h2 id="fab-academy">Fab Academy</h2>
<p><a href="https://fabacademy.org/"><img alt="Fab Academy" src="https://fablab.is/wp-content/uploads/2017/11/fab-academy2.jpg" style="width:100%" /></a></p>
<p>I took part in the <a href="https://fabacademy.org/">Fab Academy</a> in 2023 and I have to say, the experience changed me for the better. I no longer feel intimidated by any technology, and my project management skills have improved. The Fab Academy is taught remotely by Professor Neil Gershenfeld, director of the MIT Center for Bits and Atoms. Neil is the originator of the Fab Lab movement. My local instructor at our lab was the multi-talented <a href="https://fabacademy.org/archives/2015/eu/students/gunnarsson.thorarinn_b.b/index.html">Þórarinn Bjartur Breiðfjörð Gunnarsson</a>, director of Fab Lab Ísafjörður.</p>
<p><img alt="Electronics design journey" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week18/pcb_design_journey.jpg" style="width:100%" /><em>The evolution of my electronics design skills over the course of the Fab Academy. The course puts a heavy emphasis on digital electronics, because that's what makes things come alive!</em></p>
<p>You'll notice Xiao modules being heavily used throughout my electronics work. They are recommended by the Fab Academy, which has traditionally only used bare microcontrollers. The Xiao modules are incredibly handy, since I can put pin headers on them and try things out on a breadboard, and then embed them in my own custom circuits. They have a built-in USB-C connector (it's not easy to mill the pads for those connectors) and an RGB LED which I've used to confirm that my PWM motor control code is working (see <a href="https://svavarkonn.github.io/MkDocs/seeed.html#led-pwm-test">here</a>). If I want good analog peripherals to connect to sensors (like in my <a href="https://svavarkonn.github.io/MkDocs/seeed.html#ir-sensor-board">IR sensor</a> and my <a href="https://svavarkonn.github.io/MkDocs/seeed.html#sensing-board">Baksi sensing board</a>), I'll use the Xiao SAMD21, if I want raw processing power, I'll use the Xiao RP2040 and if I want WiFi networking I'll grab the Xiao ESP32. And more Xiaos have been added; it would be fun to try a bit of machine learning on a microcontroller module.</p>
<p>Here's the concept sketch of my Fab Academy final project, a tiny and simple educational robot arm made only of motors and PCBs:</p>
<p><img alt="baks sketch 1" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/final-project/images/baks_sketch1.jpg" style="width:100%" /></p>
<p>Baksi (I added the "i" at the end because my son always calls it Baksi) is the noun version of the Icelandic verb baksa, which means to 'busy oneself' or to 'be industrious', usually in the context of toddlers playing energetically outside, digging and dragging logs about and throwing rocks. <a href="https://vimeo.com/806145840#t=9m5s">Here's a video</a> where I describe the final project to Neil Gershenfeld during random review.</p>
<h4 id="a-bit-of-history">A bit of history</h4>
<p>I backed the original <a href="https://www.kickstarter.com/projects/ufactory/uarm-put-a-miniature-industrial-robot-arm-on-your">uArm on Kickstarter</a> and enjoyed using it until I accidentally connected the power supply directly to the Arduino instead to the uArm Shield. The plan was to have it <a href="https://hackaday.io/project/1172-uarm-vending-machine">fry doughnuts and frost them</a> but the arm ended up getting fried instead. The software part also intimidated me.</p>
<p>In one of the courses in my Mechanical Engineering degree, the task was to pick up a wine glass and give the professor a sip. The rationale behind it was to think about solutions for people with Parkinson's disease. <a href="https://gitlab.fabcloud.org/academany/fabacademy/2023/labs/isafjordur/students/svavar-konradsson/-/raw/main/docs/images/building_skenkir.jfif">My group</a> put a lot of work into making a <a href="https://gitlab.fabcloud.org/academany/fabacademy/2023/labs/isafjordur/students/svavar-konradsson/-/raw/main/docs/images/skenkir.jfif">robot arm</a> with a soft 3D printed hand that I found on Thingiverse. We converted an old theatre light (if you find one, they're a treasure trove, this one had 13 stepper motors). I designed and 3D printed all the custom components and <a href="https://www.youtube.com/embed/fERCV8JCrM8">the arm worked</a>.</p>
<p>But then I wanted an arm that can do more than one thing. When Fab Lab Ísafjörður needed something to impress the President of Iceland and the First Lady, <a href="https://fabacademy.org/2018/labs/fablabreykjavik/students/karitassigurbjorg-bjornsdottir/">Karítas</a> at <a href="https://www.facebook.com/fablabsaudarkrokur/">Fab Lab Sauðárkrókur</a> was kind enough to loan us a <a href="https://niryo.com/fr/product/niryo-one/">Niryo One</a>, a 3D printed educational robot arm based on steppers and <a href="https://www.robotis.us/dynamixel/">Dynamixel</a> servos. I programmed the robot to <a href="https://www.vestfirdir.is/is/vestfjardastofa/frettir/forsetahjonin-i-heimsokn">hand the First Lady a laser cut business card</a>, and had great fun experimenting with the robot. Then I fried one of its servo motors when a cable connector got stuck and the robot kept trying to move to its intended position. I managed to swap out the motor, but I thought that surely there's an improvement to be made here. </p>
<p>Since educational robot arms seem to be mostly used to move colored cubes around, I think it's OK to scale them down and simplify them to make them less expensive and more accessible. I'd like to base my arm on brushless motors without any gearing, and use springs to balance it, just like the <a href="https://en.wikipedia.org/wiki/Anglepoise_lamp">Anglepoise lamp</a>. Then it's nimble and can't damage anything. It won't be able to lift much, but that's OK! I only want it to lift a paint brush or a colored cube.</p>
<h4 id="outline-of-the-idea">Outline of the idea</h4>
<p>Since I have a history of frying robot arms, I have a few personal design goals for my arm.</p>
<ul>
<li>Cannot hurt itself or the user</li>
<li>Easily programmed by moving the arm and saving key points and paths</li>
<li>Small</li>
<li>Cheap</li>
<li>Precise enough to paint candles for a local company :)</li>
</ul>
<h4 id="i-present-baksi-the-robot">I present Baksi the robot!</h4>
<p><img alt="Baksi" src="images/baksi.jpg" style="width:100%" /></p>
<p>I ended up changing to a SCARA design, since it doesn't stress the motors as much. I also 3D printed a part to put underneath each PCB to stiffen it and hide a bunch of wires. Here's my fun 1 minute final project video, showcasing the educational robot arm that I ended up making:</p>
<video controls width=100%>
        <source src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/presentation.mp4" type="video/mp4">
    </video>
<p><em>I'd love to show Baksi the robot arm at Maker Faire Shenzen and discuss how to adapt the design for manufacturing.</em></p>
<p>I'm planning to have Seeed Studio fabricate the boards for the next version of the Baksi robot arm. That version will be made of motors and PCBs and nothing else! A professionally produced FR4 PCB will be much stiffer than the FR1 boards that I milled, and when I order them from Seeed Studio I can use multiple layers to route all the wires that I need. I've checked, and the main parts (MCU and motor driver) are available in the Seeed Studio part catalogue. I also think Grove connectors for the motors and encoders would be really nice. If there's interest, it would be exciting to also try to sell the robot as a kit in the Seeed Studio store. I really want to take this robot all the way to market, so that it can be used to teach electronics, robotics and programming in a fun and engaging way. I even got a friend of mine to make a <a href="https://svavarkonn.github.io/MkDocs/seeed.html#baksi-software">GUI for Baksi</a>. Exciting times ahead!</p>
<h2 id="my-first-circuit">My first circuit</h2>
<p>I designed my first electronic circuit in January 2023. It was a Xiao RP2040, a button and a blue LED with a current-limiting resistor.</p>
<p><img alt="Assembling my first circuit" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week08/soldering_gif.gif" style="width:100%" /></p>
<p>I calculated the correct value for the resistor, opened up KiCAD for the first time, watched a few tutorials and then exported the design as an SVG file. I edited the design in Inkscape and cut it out of some adhesive-backed copper sheet and glued it to a laser cut plate. I tried my hand at soldering the SMD components (the Xiao was easy to solder) and then it was time for the moment of truth. I loaded the Blink example sketch onto the Xiao and my blue LED blinked! I was so happy!</p>
<video controls width=100%>
  <source src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week08/vinyl_cut_blinky_circuit.mp4" type="video/mp4">
</video>

<p>Here I've programmed the button to turn on the LED:</p>
<video controls width=100%>
  <source src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week08/led-button.mp4" type="video/mp4">
</video>

<h2 id="ir-sensor-board">IR sensor board</h2>
<p>I used the IR phototransistor from the fab library twice, to represent both the IR emitter and the phototransistor. For this board I'm using obsolete parts from the 2012 Fab Lab inventory that still work really well; the <a href="https://www.digikey.com/en/products/detail/tt-electronics-optek-technology/OP280KT/1853375?s=N4IgTCBcDaIMwDYCsBaAjAFgOwAZ0oDsATEAXQF8g">OP280KT</a> IR emitter and the matched <a href="https://www.digikey.com/en/products/detail/tt-electronics-optek-technology/OP580/768513?s=N4IgTCBcDaIMwDYCsBaAjGhZ0oHYBMQBdAXyA">OP580</a> phototransistor. They are have a more square shape than their modern counterparts, but I checked the datasheets and their footprints are close enough to what I have in the KiCAD library now.</p>
<p><img alt="IR sensor schematic" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week11/ir_sensor_schematic.jpg" style="width:100%" /><em>My Xiao IR sensor schematic.</em></p>
<p>I looked at the <a href="https://fabacademy.org/2020/labs/leon/students/adrian-torres/fabxiao.html#photo">phototransistor board</a> on the Xiao page of the Fab Academy web site of <a href="http://fabacademy.org/2020/labs/leon/students/adrian-torres/index.html">Adrian Torres</a>. It has a 1kOhm resistor on the IR emitter diode and a 10kOhm resistor on the IR sensor. I did the same here.</p>
<p><img alt="IR sensor PCB" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week11/ir_sensor_pcb.jpg" style="width:100%" /><em>My Xiao PCB design for the IR emitter and sensor.</em></p>
<p>Instead of soldering the Xiao onto the board I'm using pin sockets. The milling went well using Fab Modules and the Roland Modela MDX-20, but the edges of the traces are a little bit rough. That's a sign of wear on the 1/64 inch bit.</p>
<p><img alt="Milling the IR sensor traces" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week11/ir_sensor_traces_milling.jpg" style="width:100%" /><em>Milling the traces of the IR sensor board.</em></p>
<p>Then I milled the board outline with the 1/32 inch bit. </p>
<p><img alt="Milling the IR sensor outline" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week11/ir_sensor_outline_milling.jpg" style="width:100%" /><em>Milling the outline of the IR sensor board.</em></p>
<p>Here's how the board looks:</p>
<p><img alt="The IR sensor board" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week11/ir_sensor_board.jpg" style="width:100%" /><em>The IR sensor board.</em></p>
<p><img alt="The IR sensor board with the Xiao SAMD21" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week11/ir_sensor_board_xiao_samd21.jpg" style="width:100%" /><em>With the Xiao SAMD21 on board.</em></p>
<p>Here's a video of the sensor readings, it works really well:</p>
<video controls width=100%>
      <source src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week11/ir_sensor.mp4" type="video/mp4">
</video>

<h4 id="measuring-the-analog-signal">Measuring the analog signal</h4>
<p>I connected the signal from the IR sensor to the oscilloscope and got a reading that changed with the light hitting the sensor:</p>
<video controls width=100%>
      <source src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week11/analog_signal.mp4" type="video/mp4">
</video>

<h4 id="design-files">Design files</h4>
<p>I used <a href="https://fabacademy.org/2020/labs/leon/students/adrian-torres/assignments/fabxiao/xiao_phototransistor/xiao_phototransistor.ino">code from Adrian Torres</a> to get readings in the serial plotter, but I changed the number of the analog read pin to A10.</p>
<p>Here's my KiCAD project:</p>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/files/week11/ir_sensor.zip">Download Xiao IR sensor board</a></p>
<p>And the PCB milling files for Fab Modules or Mods:</p>
<p><img alt="Download IR sensor board traces" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/files/week11/ir_sensor_traces.png" /><em>The traces.</em>
<img alt="Download IR sensor board interior" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/files/week11/ir_sensor_interior.png" /><em>The interior (for milling the board outline).</em></p>
<p>And the Arduino code:</p>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/files/week11/xiao_phototransistor.ino">Download IR sensor Arduino code</a></p>
<h4 id="visualizing-the-light-readings">Visualizing the light readings</h4>
<p>I experimented with creating a computer interface for the light sensor. The code that runs on the Xiao is very simple. It comes from Adrián Torres. The code uses analogRead to read the value from the IR sensor and then writes it to the serial port:</p>
<p>I used a few different Python scripts to receive the IR light values from the serial port. First I tried Neil Gershenfeld's <a href="http://academy.cba.mit.edu/classes/input_devices/light/hello.light.45.py">hello.light.45.py</a> code but it reads single characters from the serial port and I had programmed the Xiao to send whole lines at a time. I stopped there with Neil's code.</p>
<p>Then I found a nice <a href="https://www.youtube.com/watch?v=AHr94RtMj1A">tutorial</a> showing how you can list the available COM devices in the terminal, pick one by typing its number, and open it using serial.tools. </p>
<p>Once the serial port is open, I run an infinite while loop and read one line from the serial port at a time, decode it using UTF-8 character encoding and then turn that string into an integer. I do the reading and converting in only two lines of Python code:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">packet</span> <span class="o">=</span> <span class="n">serialInst</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">y</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">packet</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf&#39;</span><span class="p">))</span>
</code></pre></div>
<p>Then, to get a very rudimentary graphical representation going, I use an if statement and display one <code>-</code> if the value is between 0 and 100, display <code>--</code> if the value is between 100 and 200 and so on, up to 1000 (<code>----------</code>).</p>
<video controls width=100%>
      <source src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week14/light_bars.mp4" type="video/mp4">
</video>
<p><em>As simple as it gets. This barely counts as a graphical user interface.</em></p>
<p>I also tried to make a GUI using Tkinter. I found a useful code snippet in example 1 in <a href="https://pythonlobby.com/frames-in-tkinter-gui-programming-python-tkinter-tutorial/">this tutorial</a>, which creates a small GUI window and displays a title and a red and green rectangle with empty space between them. It's static, but by using my y variable (the number that is streaming into the serial port) instead of hardcoded numbers, I can make the bar move.</p>
<p><img alt="Tkinter example" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week14/tkinter_example.png" style="width:100%" /><em>The static GUI example.</em></p>
<p>I could get the Tkinter interface to run separately and I could also get a stream of data from the IR sensor separately, but I had trouble combining them. Apparently, <a href="https://robotic-controls.com/learn/python-guis/tkinter-serial">the reason</a> is that I have two infinite while loops and the one that comes first in the code blocks the other. While the code waits for input from the serial port, nothing else can happen. And while the interface is running, nothing else can happen. I couldn't figure this out using the examples that I found online.</p>
<p>The following day I gave up and asked ChatGPT to change the code to make the two loops run concurrently. That resulted in code that ran, but I needed to make some changes to it. Only the grey bar was changing size between 0 and 1000 pixels, so I put 1000-y as the width of the black bar. That worked nicely. The interface was also sluggish, but I fixed that by changing <code>root.after(100, readFromSerial)</code> to <code>root.after(10, readFromSerial)</code>. Then there is a much shorter delay for updating the interface. </p>
<video controls width=100%>
      <source src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week14/ir_sensor_gui.mp4" type="video/mp4">
</video>
<p><em>We have a GUI that runs smoothly.</em></p>
<h4 id="design-files_1">Design files</h4>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/files/week11/xiao_phototransistor.ino">Download IR sensor Arduino code</a></p>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/files/week14/serialVisualizer.py">Download Python terminal visualization code</a></p>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/files/week14/ir_sensor5.py">Download Python GUI code</a></p>
<h2 id="the-tea-machine">The tea machine</h2>
<p>My next major step was a machine control board for the machine building group project. We made a tea-steeping machine.</p>
<p>The clean aesthetics of the machine are thanks to <a href="https://fabacademy.org/2023/labs/isafjordur/students/hafey-hallgrimsdottir/">Hafey</a>, who designed and made the structure on the Shopbot and the laser cutter. She also made the logo on the vinyl cutter, which means that we used all the machines in the Fab Lab!</p>
<p><img alt="The Icelandic Machine Week team" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week10/team.jpg" style="width:100%" /><em>The Icelandic Machine Week team: Svavar, Andri and Hafey.</em></p>
<p>In the Fab Academy, we talk about spiral development. The trick to developing a working product is to make a very rough version the whole thing (instead of perfecting a small part of it) and then doing another spiral to fix bugs and add features, and so on as long as you have time.</p>
<h4 id="machine-controller-spiral-1">Machine controller spiral 1</h4>
<p><img alt="L298N module on a breadboard" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week10/breadboard_l298n.jpg" style="width:100%" /><em>Machine control spiral 1: An L298N stepper driver module on a breadboard with a SparkFun RedBoard, which is essentially the same thing as an Arduino Uno.</em></p>
<h4 id="machine-controller-spiral-2">Machine controller spiral 2</h4>
<p>The second spiral was to make a custom board with a Xiao RP2040 microcontroller module, a DRV8825 StepStick motor controller, 12V input pins from a lab power supply and GPIO breakout pins for a servo and two buttons. In Machine Week I made my biggest leap forward in electronics design. I also developed my methodical method of breadboarding and testing the hardware and software, one element at a time, before transferring the design over to KiCAD.</p>
<p>The custom board that I made is an extension of spiral 2. The first board had mounting holes that were far too big and the board also came loose during milling. </p>
<p><img alt="Machine control boards" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week10/machine_control_boards.jpg" style="width:100%" /><em>Bad board and good board. I input a radius for the mounting holes when I thought I was defining their diameter. So the holes are huge on the board on the left! And I didn't use enough double-sided tape to secure the PCB blank, so it shifted during the trace milling operation.</em></p>
<p>After a redesign, the second attempt to mill the board went well. The board on the right is the final version of the TeaManator controller board. I forgot the drilling holes for the electrolytic bulk storage capacitor for the stepper driver, so I drilled those holes afterwards.</p>
<p><img alt="Drill" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week10/drill.jpg" style="width:100%" /><em>Hand drilling the last two holes in the board.</em></p>
<p>I only had through-hole female headers, so I bent their legs in order to be able to surface mount them.</p>
<p><img alt="Bend" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week10/bend.jpg" style="width:100%" /><em>Bending the legs for surface mounting.</em></p>
<p><img alt="Machine controller" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week10/machine_controller.jpg" style="width:100%" /><em>The final TeaManator machine controller. I learned a lesson in considering which side through-hole components need to be on in order to touch the copper traces.</em></p>
<p><img alt="Connected machine controller" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week10/connected_machine_controller.jpg" style="width:100%" /><em>Close-up of the machine controller, all connected up.</em></p>
<p><img alt="TeaManator" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week10/teamanator.jpg" style="width:100%" /><em>The TeaManator 2000 tea steeping machine. Clean and elegant.</em></p>
<p><img alt="Behind the machine" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week10/reality.jpg" style="width:100%" /><em>The reality behind the facade. The USB hub (with AC adapter) and the big power supply are only there to supply 5V to the Xiao and 12V to the stepper driver, because we didn't have time to learn how to make a power supply. I realized then that I need to think seriously about a neat way to power my final project.</em></p>
<h4 id="machine-controller-spiral-3-not-my-work">Machine controller spiral 3 (not my work)</h4>
<p><img alt="Stepper Modular Thing" src="https://fabacademy.org/2023/labs/akureyri/students/andri-semundsson/images/myStepperHbridgeBoardSoldered.JPG" style="width:100%" /><em>The first Stepper Modular Thing that <a href="https://fabacademy.org/2023/labs/akureyri/students/andri-semundsson/index.html">Andri</a> made. He had to do considerable editing to make the circuit fabricatable.</em></p>
<p>After 3D printing all the parts for the <a href="https://gitlab.cba.mit.edu/quentinbolsee/beehive-axes">linear motion axis</a>, <a href="https://fabacademy.org/2023/labs/akureyri/students/andri-semundsson/index.html">Andri</a> worked tirelessly on the third spiral, which was to make a <a href="https://github.com/modular-things/modular-things-circuits/tree/main/xiao">Modular Things stepper controller board</a>. We were really excited about this solution, but this design really thin traces and two layers, making it difficult to make. Andri made lots of modifications to the design in Fusion 360 in order to make the traces thicker and reroute everything so that it fit on one layer. He successfully milled the board and soldered all the components to it, but it didn't work. Unfortunately, the motor drivers in the original design need a higher voltage than 5V to work. The designer, Quentin Bolsée was very responsive to our questions.</p>
<p>Then our instructors <a href="https://fabacademy.org/2022/labs/isafjordur/students/arni-bjornsson/">Árni</a> and Þórarinn(https://fabacademy.org/archives/2015/eu/students/gunnarsson.thorarinn_b.b/index.html), recalled that <a href="http://archive.fabacademy.org/fabacademy2017/fablabkamakura/students/44/index.html">Yuichi Tamiya</a> at Fab Lab Kannai made a <a href="http://academany.fabcloud.io/fabacademy/2023/instructors-bootcamp/Projects/xiao_rp2040_hbridges/">working version</a> of the Modular Things stepper control board at the 2023 instructor bootcamp in Amsterdam.</p>
<p>Andri proceeded to make the board and Árni soldered the components onto it. It worked on the first try!</p>
<video controls width=100%>
        <source src="https://fabacademy.org/2023/labs/akureyri/students/andri-semundsson/videos/modularThingsStepper.mp4" type="video/mp4">
    </video>
<p><em>The second Stepper Modular Thing that Andri made. Wow! It's powered by the USB port!</em></p>
<p>We didn't have time to integrate it into our machine, but I'm very glad that Andri and our instructors were able to make a working Modular Thing. Seeing the Stepper Modular Thing working and being able to make the machine control board successfully combined to give me the confidence to try to make a robot arm joint immediately when I arrived back in Ísafjörður.</p>
<h4 id="our-instructors">Our instructors</h4>
<p>We are lucky to have these instructors. Here are some images to prove it:</p>
<p><img alt="Instructors" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week10/instructors.jpg" style="width:100%" /><em>Left: Þórarinn explaining some electronics to Hafey. Right: Andri showing Árni the teabag holder that he made from bent acrylic.</em></p>
<p><img alt="Attention: Coffee for Svavar" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week10/attention-coffee_for_svavar.jpg" style="width:100%" /><em>Attention: Coffee for Svavar! Our instructors took good care of us during this intense work session.</em></p>
<p>My instructor Þórarinn also disassembled a stepper motor and showed us how it works:</p>
<p><img alt="Stepper" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week10/stepper.jpg" style="width:100%" /><em>Left: The stepper rotor, with its many iron teeth visible. Right: The step signal that turns the rotor (two of the phases are connected to the oscilloscope).</em></p>
<h2 id="my-final-project">My final project</h2>
<h3 id="final-project-spiral-1">Final project spiral 1</h3>
<p>After Machine Week, I tried making Yuichi Tamiya's <a href="http://academany.fabcloud.io/fabacademy/2023/instructors-bootcamp/Projects/xiao_rp2040_hbridges/">Modular Things stepper board</a>.</p>
<p><img alt="Yuichi Tamiya's Modular Things stepper board" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/yuichi_brd.jpg" style="width:100%" /><em>Yuichi Tamiya's Modular Things stepper board from the 2023 instructor bootcamp in Amsterdam.</em></p>
<p>This is the last board that Andri made in <a href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/week10.html#spiral-3">Machine week</a> with the help of our instructors. It worked, so immediately after I got back to Ísafjörður I made one of my own:</p>
<video controls width=100%>
  <source src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/stepper_modular_thing.mp4" type="video/mp4">
</video>
<p><em>OMG, it's so smooth and quiet!</em></p>
<p><img alt="Exciting development" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/exciting.jpg" style="width:100%" /><em>Þórarinn found me all excited when he came to work. Fig rolls and the trusty Tandy 102 by my side, and a candle lit on my desk to keep my father with me as I work. He would have loved this.</em></p>
<h4 id="design-file">Design file</h4>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/files/week09/stepper-hbridge-rp2040.zip">Download Stepper H-bridge RP2040 Modular Thing Arduino code</a></p>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/files/week09/svavar-stepper.js">Download svavar-stepper.js </a></p>
<h4 id="spiral-1-3d-design">Spiral 1 3D design</h4>
<p>I was so excited to see a motor moving that I immediately started to design 3D printed parts for spiral 1 of my robot arm.</p>
<p><img alt="Two BLDC sizes" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/two_bldc_sizes.jpg" style="width:100%" /><em>I bought two sizes of brushless motors, thinking that I would use a bigger motor in the base. I based the shape of the board on that.</em></p>
<p>A few days after I designed the shape, I decided to change the orientation of the arm from vertical (regular robot arm) to horizontal (SCARA arm). Then there's no strain on the motors when the arm is stationary and I don't need to use the bigger and more expensive brushless motor. I also decided to keep the stepper in the base, not because I wanted to use a stepper but simply because I had a working stepper. Spiral development!</p>
<p><img alt="Stepper festing" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/stepper_festing.jpg" style="width:100%" /><em>This Fusion 360 model is named stepper_festing, which means stepper_bracket. I only meant to design a fixture for the stepper, but it quickly turned into a whole robot arm.</em></p>
<p><img alt="Spiral 1 assembly" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/spiral1_assembly.jpg" style="width:100%" /><em>Assembling spiral 1 of my robot arm.</em></p>
<h4 id="robot-base">Robot base</h4>
<p><img alt="Spiral 1 base" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/spiral1_base.jpg" style="width:100%" /><em>The 3D printed base for spiral 1 of my robot arm. The support material came easily away from the part in one piece. Neat!</em></p>
<p><img alt="Spiral 1 base - bottom view" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/spiral1_bottom.jpg" style="width:100%" /><em>Here's the Stepper RP2040 Modular Thing that I made for the stepper in the base of the arm. Look closely and you'll see the tiny white TPU washers that I made avoid making contact between the screws and the traces.</em></p>
<h4 id="spiral-1-assembly">Spiral 1 assembly</h4>
<p><img alt="Arm spiral 1" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/arm_spiral_1.jpg" style="width:100%" /><em>Robot arm spiral 1.</em></p>
<h4 id="design-file_1">Design file</h4>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/files/week09/stepper_festing.f3z">Download robot arm spiral 1 Fusion 360 model</a></p>
<h4 id="my-pcb-design">My PCB design</h4>
<p>I heavily modified Yuichi's board, changing the shape and adding header pins, so that I could use all the Xiao RP2040's pins. I can now connect the brushless motor to the two H-bridges (it needs one and a half H-bridge) and I can connect the encoder to 3.3 V, ground and a digital pin on the Xiao.</p>
<p><img alt="Autorouter" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/autorouter.gif" style="width:100%" /><em>Trying the Autorouter in Fusion360. I ended up switching to KiCAD and routing everything manually.</em></p>
<p><img alt="Robot joint v1 PCB" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/robot_joint_v1_pcb.jpg" style="width:100%" /><em>My robot joint v1 PCB.</em></p>
<p>I also added one header pin to the current sense resistor, hoping that I can read the current going into the motor. That would be very useful, because it's a way to prevent the H-bridges from overheating (I burned a motor driver on a commercial robot arm once and I want to make it impossible on my arm) and I can also use the measured current as a way to measure the force on the joint. Current sensing is not available on any hobby robot that I know of, so if this works, then it will be a great feature! </p>
<p>I also added a 7-11V power input for the brushless motor. Yuichi's stepper board uses the 5V USB pin to power the stepper, but my brushless motor needs a higher voltage. I will just be using a lab power supply for now. I will figure out the arm's power supply later. Does it make sense to add a boost converter? I don't know, converting 230V AC into 5V and then converting 5V into 11V sounds a bit messy to me.</p>
<h4 id="design-files_2">Design files</h4>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/files/week09/arm1.zip">Download Robot joint v1 KiCAD project</a></p>
<h4 id="putting-dupont-connectors-on-the-motor">Putting Dupont connectors on the motor</h4>
<p>The power connector that came with the motor is too small for the standard 2.54 mm pin headers in the Fab Lab Inventory, so my instructor Þórarinn showed me how to crimp Dupont connectors onto the wires.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:5"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><input id="__tabbed_1_4" name="__tabbed_1" type="radio" /><input id="__tabbed_1_5" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Part 1</label><label for="__tabbed_1_2">Part 2</label><label for="__tabbed_1_3">Part 3</label><label for="__tabbed_1_4">Part 4</label><label for="__tabbed_1_5">Part 5</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><img alt="Small connector" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/small_connector.jpg" style="width:100%" /><em>Small connector.</em></p>
</div>
<div class="tabbed-block">
<p><img alt="Dupont connector kit" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/dupont_connector_kit.jpg" style="width:100%" /><em>Þórarinn's Dupont connector kit.</em></p>
</div>
<div class="tabbed-block">
<p><img alt="Dupont female connector" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/dupont_female.jpg" style="width:100%" /><em>Aligning a female Dupont connector to the wire. The first crimp connection grabs the plastic cover and the second one grabs the bare wire and secures an electrical connection.</em></p>
</div>
<div class="tabbed-block">
<p><img alt="Crimping" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/crimp.jpg" style="width:100%" /><em>Crimping the connector onto the wire. More recently I've started to use narrow nose pliers instead. Then I can control exactly how the crimping goes and I don't waste as many Dupont connectors.</em></p>
</div>
<div class="tabbed-block">
<p><img alt="Finished Dupont connector" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/dupont2.jpg" style="width:100%" /><em>Triple Dupont connector, ready for service.</em></p>
</div>
</div>
</div>
<h4 id="pcb-production">PCB production</h4>
<p><img alt="Joint 1 traces" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/joint1-traces.jpg" style="width:100%" /><em>Under <code>number of offsets</code> (off screen) I typed -1, to have the milling machine clear all the excess copper off the board. I thought this was the safest move, since I'll be putting a BLDC motor with an aluminum chassis onto the board.</em></p>
<p><img alt="Joint 1 board" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/joint1-board.jpg" style="width:100%" /><em>That's a nice-looking board.</em></p>
<p><img alt="Joint v1 components" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/joint1_components.jpg" style="width:100%" /><em>The components for arm joint v1, with a general comment on component labeling.</em></p>
<h4 id="scaling-problem">Scaling problem</h4>
<p>The holes for the brushless motor screws were too far apart. How could that be? I exported the arm profile with the holes directly to DXF from Fusion 360, imported them into KiCAD and then exported to SVG without modifications. My instructor Þórarinn suggested that my DPI settings in Inkscape and Fab Modules might be off. If you check the <a href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/joint1-traces.jpg">Fab Modules</a> image, you'll see that the resolution was automatically set to 999.99 dots per inch, instead of 1000.</p>
<h4 id="oh-no-torn-motor-pins">Oh no, torn motor pins!</h4>
<p>I tore the motor pins off the board when I was trying to insert the connector. The copper also came off the board.</p>
<p><img alt="Torn motor pins" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/torn_motor_pins.jpg" style="width:100%" /><em>This was a design lesson: you have to put the connectors all the way at the edge of the board! I don't know what I was thinking.</em></p>
<p>This was very frustrating. I had to stop working, cool off and come back the next day. With a level head, I thought that I might actually be able to save this board using the adhesive-backed copper sheet that I use on the vinyl cutter.</p>
<h4 id="the-fix">The fix</h4>
<div class="tabbed-set tabbed-alternate" data-tabs="2:5"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><input id="__tabbed_2_3" name="__tabbed_2" type="radio" /><input id="__tabbed_2_4" name="__tabbed_2" type="radio" /><input id="__tabbed_2_5" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Part 1</label><label for="__tabbed_2_2">Part 2</label><label for="__tabbed_2_3">Part 3</label><label for="__tabbed_2_4">Part 4</label><label for="__tabbed_2_5">Part 5</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p><img alt="Fix 1" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/fix1.jpg" style="width:100%" /><em>First I cut the <code>MOTOR OUTPUT</code> and <code>CURRENT SENSE</code> letters off the board with a box cutter.</em></p>
</div>
<div class="tabbed-block">
<p><img alt="Fix 2" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/fix2.jpg" style="width:100%" /><em>Then I tried cutting a strip of copper sheet and I successfully glued it onto the board.</em></p>
</div>
<div class="tabbed-block">
<p><img alt="Fix 3" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/fix3.jpg" style="width:100%" /><em>Copper sheet added for the other three motor phases.</em></p>
</div>
<div class="tabbed-block">
<p><img alt="Fix 4" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/fix4.jpg" style="width:100%" /><em>Then I carefully soldered the horizontal header pins onto the copper sheet and made a solder bridge from the sheets to the traces on the board.</em></p>
</div>
<div class="tabbed-block">
<p><img alt="Fix 5" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/fix5.jpg" style="width:100%" /><em>Finally I added some hot glue to add a little bit of strength.</em></p>
</div>
</div>
</div>
<h4 id="stepper-control-with-my-board">Stepper control with my board</h4>
<video controls width=100%>
  <source src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/driving_stepper.mp4" type="video/mp4">
</video>
<p><em>Driving a stepper from the Modular Things web interface using my arm joint control board.</em></p>
<p>When testing my arm joint v1 with a stepper motor, I accidentally ripped the stepper motor pin header off the board and took some of the traces along with it. A current sense header pin also fell off the board. I decied to call it quits with making stuff for the day, went to the Heimabyggð coffee house and wrote up my experiences. With fresh eyes (and a fresh espresso) at the lab the next morning, I thought of a way to fix the board. I would cut strips of adhesive-backed copper sheet and glue new traces onto the board. I soldered them to the remains of the old traces on one end and to the header pins on the other end, and after a bit of troubleshooting, the board worked! </p>
<p>I've tried 247, 427, 274, 472, 742, 724 - that covers all possible $3! = 6$ combinations.</p>
<p>I'm getting PWM output on Xiao pins 0, 2 and 4. </p>
<p>Now I know that the right pins are 7, 2 and 4. I get good PWM output for the motor from pins 2 and 4 but I get the strange sawtooth output from pin 7.</p>
<h4 id="design-files_3">Design files</h4>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/files/week09/stepper-hbridge-rp2040.zip">Download Stepper H-bridge RP2040 Arduino code</a></p>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/files/week09/svavar-stepper.js">Download Svavar stepper Modular Things JavaScript code</a></p>
<h4 id="led-pwm-test">LED PWM test</h4>
<p>Before trying to move the brushless motor, I checked whether I was getting a sinusoidal PWM on three output pins. I did this by outputting the motor control signals to the RGB LED that is built into the Xiao RP2040 board. I used Adrian's pinout image of the Xiao RP2040 many, many times because it contains the Arduino pin numbers:</p>
<p><img alt="Xiao RP2040 pinout" src="http://fabacademy.org/2020/labs/leon/students/adrian-torres/images/fabxiao/xiao_pin.png" style="width:100%" /><em>This image has been a very useful reference. To make the sinusoidal PWM motor control signals go to the RGB LED, I defined pins 17, 16 and 25 as the output pins.</em></p>
<video controls width=100%>
  <source src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/led_pwm.mp4" type="video/mp4">
</video>
<p><em>Seems to be working!</em></p>
<h4 id="design-file_2">Design file</h4>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/files/week09/Open_loop_RGB.ino">Download sinusoidal PWM for RGB LED Arduino code</a></p>
<h4 id="bldc-control-with-my-board">BLDC control with my board</h4>
<p>Here I'm controlling the BLDC with sinusoidal PWM signals:</p>
<video controls width=100%>
  <source src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/erratic_bldc.mp4" type="video/mp4">
</video>
<p><em>Getting some erratic behavior. This same code worked with the L298N stepper driver. After trying a few different speeds and voltages, I finally got the motor to spin around in circles in the last shot.</em></p>
<h4 id="design-files_4">Design files</h4>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/files/week09/Open_loop_L298N.ino">Download sinusoidal L298N brushless control Arduino code</a></p>
<h4 id="debugging">Debugging</h4>
<p>The brushless motor moved erratically no matter what I tried. I wondered if I had soldered the wrong capacitors onto the board. I tried to measure them with a component tester:</p>
<p><img alt="Component tester" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/component_tester.jpg" style="width:100%" /><em>Trying to measure a capacitor with a component tester.</em></p>
<p>I couldn't get a reading with the component tester. Eventually I decided that I must have put the right capacitors on the board because I was so systematic and methodical in soldering the board.</p>
<p>Finally, I tried lowering the power supply voltage to 5V. The motor still worked. Then I switched the motor over to Yuichi's Modular Things stepper driver and found erratic behavior there too. It seems that this Toshiba motor driver just doesn't cut it. I then connected the motor to the ancient L298N double H-bridge and it worked! OK, so the Toshiba H-bridge is out and I need to look for an alternative.</p>
<video controls width=100%>
  <source src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/leaving_this_board.mp4" type="video/mp4">
</video>
<p><em>Looking at the signals from the H-bridges. The board can control a stepper just fine. When trying to control a brushless motor, one H-bridge is a problem. It's the one that has only one pin connected. It seems that these motor drivers don't have independent half-H-bridges, which is what I need for brushless motor control. I'm going to abandon this board.</em></p>
<p>I also noticed a lot of compliance in the structure. It seems to stem mostly from the stepper coupling that I designed. This is something I can improve in the next spiral. See the arm bending here:</p>
<video controls width=100%>
  <source src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week09/bending.mp4" type="video/mp4">
</video>

<h3 id="final-project-spiral-2">Final project spiral 2</h3>
<h4 id="basic-shape-study">Basic shape study</h4>
<p><img alt="Shape sketches" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/final-project/images/basic_shape_study.jpg" style="width:100%" /><em>Basic shape study. Since the arm is made of flat PCBs, I don't have many parameters to play with.</em></p>
<p><img alt="Basic shape dimensions" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/final-project/images/basic_shape_dimensions.jpg" style="width:100%" /><em>Dimensions of the basic shape.</em></p>
<p><img alt="Parametric shape design" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/final-project/images/parametric_shape_design.jpg" style="width:100%" /><em>I set the diameter of all the arcs to <code>d3</code>, which is the diameter of the first arc. I change that and the whole model updates.</em></p>
<p>I eventually decided to make all the joints the same shape, because it's simpler and because when the big arcs go inward, there isn't enough room on the board for all the components. So here's the final 3D design:</p>
<p><img alt="baksi spiral 2" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/final-project/images/baksi_spiral2.jpg" style="width:100%" /><em>Here's baksi, the spiral 2 version.</em></p>
<h4 id="design-files_5">Design files</h4>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/final-project/files/baksi-spiral2.f3d">Download baksi spiral 2 concept Fusion 360 model</a></p>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/final-project/files/baksi_joint-brd.f3d">Download 3D print with internal channels</a></p>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/final-project/files/baksi_base_final.f3z">Download base</a></p>
<h4 id="electronics-design">Electronics design</h4>
<p>I swapped out the Xiao SAMD21 for the bare SAMD21 microcontroller. I made this design spiral in the Fab Lab and I'm planning to have Seeed Studio make the boards for design spiral 3.</p>
<p><img alt="Baks robot joint schematic" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/final-project/images/baks_schematic.jpg" style="width:100%" /><em>The baksi robot joint schematic.</em></p>
<p><img alt="Baks robot joint PCB layout" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/final-project/images/baks_pcb.jpg" style="width:100%" /><em>The baksi robot joint PCB layout.</em></p>
<h4 id="pcb-production_1">PCB production</h4>
<p>My first attempt at milling the PCB failed, and I broke the smallest end mill (the 0.01" one). I only have one left now. Looking back, I made the fundamental mistake of not making a small test of the most challenging aspect of the process. Then I tried a V-bit:</p>
<p><img alt="Victory!" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week18/victory.jpg" style="width:100%" /><em>The moment I realized that I could finish my Fab Academy final project.</em></p>
<p>I went to the video conferencing screen in the lab with my hands up in victory, and they guys celebrated with me.</p>
<p><img alt="Beautiful traces" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week18/beautiful_traces.jpg" style="width:100%" /><em>Look at those beautiful traces.</em></p>
<p>When soldering the teeny tiny DRV8313 motor driver onto my beautiful board, I found that its legs are very thin and flexible, and so when you've fastened the driver to the big ground plane with a heat gun, you can bend the legs into place, as long as they're close to their intended copper pad.</p>
<p>After soldering, I successfully put the bootloader on the SAMD21 chip and then programmed it with the SimpleFOC code. But I got no reading from the magnetic angle sensor and the serial monitor said that it detected no movement from the motor. The motor sounded weird.</p>
<h4 id="design-files_6">Design files</h4>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/final-project/files/baks.zip">Download baks KiCAD project</a></p>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/final-project/files/baks_joint2_traces.png">Download baks_joint2_traces.png</a></p>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/final-project/files/baks_joint2_traces_exterior.png">Download baks_joint2_traces_exterior.png</a></p>
<p><a class="md-button" href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/final-project/files/baks_joint2_holes_interior.png">Download baks_joint2_holes_interior.png</a></p>
<h4 id="sensing-board">Sensing board</h4>
<p>I also made a sensing board for Baksi. It contains an endstop button for the Z-axis as well as a capacitive step-response proximity sensor, so that it can sense when a human gets too close, and stop moving. It has a Xiao SAMD21.</p>
<p><img alt="Sensing board schematic" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/final-project/images/sensing_board_schematic.jpg" style="width:100%" /></p>
<p><img alt="Sensing board PCB" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/final-project/images/sensing_board_pcb.jpg" style="width:100%" /></p>
<p>I had a little trouble finding the right pin names for the Seeeduino Xiao SAMD21. In the first place, when I first connected it, it was set up as a Seeeduino Femto. I couldn't find much info on that online. I tried uploading an Arduino sketch to it as a Seeduino Xiao SAMD21, but it got bricked and didn't show up on my computer anymore. Not in the Arduino IDE and not in Device Manager either. </p>
<p>After a bit of Googling I found the <a href="https://naidoff.medium.com/how-to-unbrick-seeduino-xiao-board-without-external-programmer-if-it-was-bricked-while-flashing-fbed494a5034">solution</a> to this problem. I shorted the connection between the RESET pads on one side of the Xiao's USB connector and it immediately appeared on my computer as a UF2 drive. I then tried uploading the same Arduino sketch to it as a Xiao Femto, and it worked.</p>
<p>But what's the pinout of the Xiao Femto? I tried the Xiao SAMD21 pin numbers but they didn't work. I also tried my Blink all pins sketch, where I make every pin from 0 to 40 blink once and write its number to the serial monitor at the same time. But now the problem was that after uploading, the device disappeared and so I couldn't get data from it through the serial port. So I tried blinking the LED as many times as the number of the pin that I was testing, After a good wait, I counted twelve blinks on my red LED. Alright. I connected every pin to an LED using my <a href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/week08.html#pcb-milling">LED debugging board</a> and was able to get the pinout of the Xiao Femto.</p>
<h4 id="final-project-presentation">Final project presentation</h4>
<p><img alt="Presentation Slide" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/presentation.png" style="width:100%" /><em>Presentation slide.</em></p>
<video controls width=100%>
        <source src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/presentation.mp4" type="video/mp4">
    </video>
<p><em>1 minute presentation video.</em></p>
<p><a href="https://vimeo.com/835552516#t=6:17"><img alt="Live presentation" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/final-project/images/fab_academy_community.jpg" style="width:100%" /></a><em>Here I am presenting my final project to Professor <a href="https://youtu.be/YDjOS0VHEr4">Neil Gershenfeld</a> and the instructors and students in the 2023 Fab Academy cycle. <a href="https://vimeo.com/835552516#t=6:17">Link to the video.</a></em></p>
<p>As for the outcome of the final project: I love how you can see all the electronic components and yet the robot has a clean look and all the wires are hidden. All of them! That took a LOT of system integration work. The robot actually looks pretty much exactly like I envisioned it.</p>
<p>However, assembling the robot was hell. Wires kept breaking and it was difficult to get them into the 3D printed part. I wouldn't want to do it like this again. This was spiral 2. In spiral 3, I want to design a multilayer PCB that contains all the wires that are currently hidden inside the 3D printed part. Then I can realize my <a href="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/final-project/ideas.html#idea-1-baks-the-robot-arm">original vision</a> of a robot that is made of motors and PCB and nothing else! And it will still have a clean look!</p>
<h4 id="baksi-software">Baksi software</h4>
<p>After the Fab Academy, I received a grant from the Icelandic government to hire a university student to make a graphical user interface to control Baksi the robot. Here is the resulting software, written in Python:</p>
<p><img alt="Baksi GUI" src="images/baksi_gui.png" style="width:100%" /><em>Version 1 of the Baksi GUI.</em></p>
<p>The software was written by Guðjón Bergmann, who is studying Aerospace Engineering at TU Delft. We've made a robot together <a href="https://www.youtube.com/watch?v=z3g7qeER0sY">before</a>.</p>
<p><img alt="Guðjón Bergmann" src="https://fabacademy.org/2023/labs/isafjordur/students/svavar-konradsson/assignments/images/week18/gudjon.jpg" style="width:100%" /><em>Guðjón Bergmann.</em></p>
<p>I look forward to continuing the project with the help of Seeed Studio. I'm excited to get professionally manufactured (and perhaps also assembled) boards. It may also be useful to order a few precision 3D printed parts and CNC milled aluminum brackets for the Z-axis motors. I need to do a fair bit of customizing to make an improved, clean-looking Z-axis. Coming soon!</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="setup.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Setup" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Setup
            </div>
          </div>
        </a>
      
      
        
        <a href="code.html" class="md-footer__link md-footer__link--next" aria-label="Next: Code tests" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Code tests
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 Svavar Konráðsson
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["content.code.annotate", "navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky"], "search": "assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
    
  </body>
</html>